<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-axis.v1.min.js"></script>
    <style>
      .color:hover {
        fill: red;
      }
    </style>
  </head>
  <body>
    <script>
      const dataset = [
        {
          fruit: "Mango",
          value: 45
        },
        {
          fruit: "Uva",
          value: 99
        },
        {
          fruit: "PiÃ±a",
          value: 23
        },
        {
          fruit: "Melon",
          value: 45
        },
        {
          fruit: "Manzana",
          value: 45
        },
        {
          fruit: "Fresa",
          value: 48
        },
        {
          fruit: "Sandia",
          value: 31
        },
        {
          fruit: "Naranja",
          value: 34
        },
        {
          fruit: "Pera",
          value: 14
        }
      ];
      const fruits = [];
      const m = 60;
      const w = 1000 - 2 * m;
      const h = 600 - 2 * m;

      const svg = d3
        .select("body")
        .append("svg")
        .attr("width", w + 2 * m)
        .attr("height", h + 2 * m);

      const chart = svg.append("g").attr("transform", `translate(${m}, ${m})`);

      const yScale = d3
        .scaleLinear()
        .range([h, 0])
        .domain([0, 100]);

      chart.append("g").call(d3.axisLeft(yScale));

      const xScale = d3
        .scaleBand()
        .domain(dataset.map(p => p.fruit))
        .range([0, w])
        .padding(0.2);
      chart
        .append("g")
        .attr("transform", `translate(0, ${h})`)
        .call(d3.axisBottom(xScale));
      chart
        .selectAll()
        .data(dataset)
        .enter()
        .append("rect")
        .attr("x", s => xScale(s.fruit))
        .attr("y", s => yScale(s.value))
        .attr("height", s => h - yScale(s.value))
        .attr("width", xScale.bandwidth());
      // .attr("x", (actual, index, array) => xScale(actual.value));

      //   svg
      //     .selectAll("rect")
      //     .data(dataset)
      //     .enter()
      //     .append("rect")
      //     .attr("x", (d, i) => i + 15)
      //     .attr("y", (d, i) => h - d)
      //     .attr("width", w / dataset.length)
      //     .attr("height", d => h - d);
    </script>
  </body>
</html>
